#include "bbc_font.h"
#include <cstring>

void genFont(unsigned char* ptr);

BBC_Font::BBC_Font() {
  memset(data, 0, 128 * 8);
  genFont(data);
}

SDL_Surface* BBC_Font::getFont(Uint32 fg) {
  SDL_Surface* surf = SDL_CreateRGBSurface(0, 128 * 8, 8, 32, 0, 0, 0, 0);
  SDL_Rect rect;

  for (int i = 0; i < 128; i++) {
    rect.x = i * 8;
    rect.y = 0;
    drawChar((char)i, surf, rect, fg);
  }

  return surf;
}

void BBC_Font::drawChar(char ch, SDL_Surface* target, SDL_Rect rect, Uint32 fg) const {
  if (rect.x + 7 >= target->w || rect.y + 7 >= target->h) return;

  if (SDL_MUSTLOCK(target)) SDL_LockSurface(target);
  Uint32* bufp = (Uint32*)target->pixels;

  unsigned char row;
  Uint32* ptr;
  for (int r = 0; r < 8; r++) {
    row = data[ch * 8 + r];
    ptr = bufp + (r + rect.y) * target->w + rect.x;
    for (int c = 0; c < 8; c++) {
      if (row & 0x80) ptr[c] = fg;
      row <<= 1;
    }   
  }

  if (SDL_MUSTLOCK(target)) SDL_UnlockSurface(target);
}

void BBC_Font::drawString(const char* str, SDL_Surface* target, SDL_Rect rect, Uint32 fg) const {
  int len = strlen(str);
  for (int i = 0; i < len; i++) {
    drawChar(str[i], target, rect, fg);
    rect.x += 8;
  }
}

void BBC_Font::drawCharScaled(char ch, SDL_Surface* target, SDL_Rect rect, int scale, Uint32 fg) const {
  if (scale <= 0 || rect.x + 8 * scale - 1 >= target->w || rect.y + 8 * scale - 1 >= target->h) return;

  unsigned char row;
  SDL_Rect pxrect;
  for (int r = 0; r < 8; r++) {
    row = data[ch * 8 + r];
    for (int c = 0; c < 8; c++) {
      if (row & 0x80) {
	pxrect.w = pxrect.h = scale;
	pxrect.x = scale * c + rect.x;
	pxrect.y = scale * r + rect.y;
	SDL_FillRect(target, &pxrect, fg);
      }
      row <<= 1;
    }   
  }
}

void BBC_Font::drawStringScaled(const char* str, SDL_Surface* target, SDL_Rect rect, int scale, Uint32 fg) const {
  if (scale <= 1) {
    drawString(str, target, rect, fg);
    return;
  }

  int len = strlen(str);
  for (int i = 0; i < len; i++) {
    drawCharScaled(str[i], target, rect, scale, fg);
    rect.x += 8 * scale;
  }
}

void BBC_Font::renderChar(char ch, SDL_Renderer* render, SDL_Rect rect, int scale) const {
  if (scale <= 0) return;

  unsigned char row;
  SDL_Rect pxrect;
  for (int r = 0; r < 8; r++) {
    row = data[ch * 8 + r];
    for (int c = 0; c < 8; c++) {
      if (row & 0x80) {
	pxrect.w = pxrect.h = scale;
	pxrect.x = scale * c + rect.x;
	pxrect.y = scale * r + rect.y;
	SDL_RenderFillRect(render, &pxrect);
      }
      row <<= 1;
    }   
  }
}

void BBC_Font::renderString(const char* str, SDL_Renderer* render, SDL_Rect rect, int scale) const {
  int len = strlen(str);
  for (int i = 0; i < len; i++) {
    renderChar(str[i], render, rect, scale);
    rect.x += 8 * scale;
  }
}

/*
 * Automatically generated font data
 */
#define SETFONT(ch, row, data) (ptr[ch * 8 + row] = data)
void genFont(unsigned char* ptr) {
  SETFONT(0x20, 0, 0x00);
  SETFONT(0x20, 1, 0x00);
  SETFONT(0x20, 2, 0x00);
  SETFONT(0x20, 3, 0x00);
  SETFONT(0x20, 4, 0x00);
  SETFONT(0x20, 5, 0x00);
  SETFONT(0x20, 6, 0x00);
  SETFONT(0x20, 7, 0x00);
  SETFONT(0x21, 0, 0x18);
  SETFONT(0x21, 1, 0x18);
  SETFONT(0x21, 2, 0x18);
  SETFONT(0x21, 3, 0x18);
  SETFONT(0x21, 4, 0x18);
  SETFONT(0x21, 5, 0x00);
  SETFONT(0x21, 6, 0x18);
  SETFONT(0x21, 7, 0x00);
  SETFONT(0x22, 0, 0x6C);
  SETFONT(0x22, 1, 0x6C);
  SETFONT(0x22, 2, 0x6C);
  SETFONT(0x22, 3, 0x00);
  SETFONT(0x22, 4, 0x00);
  SETFONT(0x22, 5, 0x00);
  SETFONT(0x22, 6, 0x00);
  SETFONT(0x22, 7, 0x00);
  SETFONT(0x23, 0, 0x36);
  SETFONT(0x23, 1, 0x36);
  SETFONT(0x23, 2, 0x7F);
  SETFONT(0x23, 3, 0x36);
  SETFONT(0x23, 4, 0x7F);
  SETFONT(0x23, 5, 0x36);
  SETFONT(0x23, 6, 0x36);
  SETFONT(0x23, 7, 0x00);
  SETFONT(0x24, 0, 0x0C);
  SETFONT(0x24, 1, 0x3F);
  SETFONT(0x24, 2, 0x68);
  SETFONT(0x24, 3, 0x3E);
  SETFONT(0x24, 4, 0x0B);
  SETFONT(0x24, 5, 0x7E);
  SETFONT(0x24, 6, 0x18);
  SETFONT(0x24, 7, 0x00);
  SETFONT(0x25, 0, 0x60);
  SETFONT(0x25, 1, 0x66);
  SETFONT(0x25, 2, 0x0C);
  SETFONT(0x25, 3, 0x18);
  SETFONT(0x25, 4, 0x30);
  SETFONT(0x25, 5, 0x66);
  SETFONT(0x25, 6, 0x06);
  SETFONT(0x25, 7, 0x00);
  SETFONT(0x26, 0, 0x38);
  SETFONT(0x26, 1, 0x6C);
  SETFONT(0x26, 2, 0x6C);
  SETFONT(0x26, 3, 0x38);
  SETFONT(0x26, 4, 0x6D);
  SETFONT(0x26, 5, 0x66);
  SETFONT(0x26, 6, 0x3B);
  SETFONT(0x26, 7, 0x00);
  SETFONT(0x27, 0, 0x0C);
  SETFONT(0x27, 1, 0x18);
  SETFONT(0x27, 2, 0x30);
  SETFONT(0x27, 3, 0x00);
  SETFONT(0x27, 4, 0x00);
  SETFONT(0x27, 5, 0x00);
  SETFONT(0x27, 6, 0x00);
  SETFONT(0x27, 7, 0x00);
  SETFONT(0x28, 0, 0x0C);
  SETFONT(0x28, 1, 0x18);
  SETFONT(0x28, 2, 0x30);
  SETFONT(0x28, 3, 0x30);
  SETFONT(0x28, 4, 0x30);
  SETFONT(0x28, 5, 0x18);
  SETFONT(0x28, 6, 0x0C);
  SETFONT(0x28, 7, 0x00);
  SETFONT(0x29, 0, 0x30);
  SETFONT(0x29, 1, 0x18);
  SETFONT(0x29, 2, 0x0C);
  SETFONT(0x29, 3, 0x0C);
  SETFONT(0x29, 4, 0x0C);
  SETFONT(0x29, 5, 0x18);
  SETFONT(0x29, 6, 0x30);
  SETFONT(0x29, 7, 0x00);
  SETFONT(0x2A, 0, 0x00);
  SETFONT(0x2A, 1, 0x18);
  SETFONT(0x2A, 2, 0x7E);
  SETFONT(0x2A, 3, 0x3C);
  SETFONT(0x2A, 4, 0x7E);
  SETFONT(0x2A, 5, 0x18);
  SETFONT(0x2A, 6, 0x00);
  SETFONT(0x2A, 7, 0x00);
  SETFONT(0x2B, 0, 0x00);
  SETFONT(0x2B, 1, 0x18);
  SETFONT(0x2B, 2, 0x18);
  SETFONT(0x2B, 3, 0x7E);
  SETFONT(0x2B, 4, 0x18);
  SETFONT(0x2B, 5, 0x18);
  SETFONT(0x2B, 6, 0x00);
  SETFONT(0x2B, 7, 0x00);
  SETFONT(0x2C, 0, 0x00);
  SETFONT(0x2C, 1, 0x00);
  SETFONT(0x2C, 2, 0x00);
  SETFONT(0x2C, 3, 0x00);
  SETFONT(0x2C, 4, 0x00);
  SETFONT(0x2C, 5, 0x18);
  SETFONT(0x2C, 6, 0x18);
  SETFONT(0x2C, 7, 0x30);
  SETFONT(0x2D, 0, 0x00);
  SETFONT(0x2D, 1, 0x00);
  SETFONT(0x2D, 2, 0x00);
  SETFONT(0x2D, 3, 0x7E);
  SETFONT(0x2D, 4, 0x00);
  SETFONT(0x2D, 5, 0x00);
  SETFONT(0x2D, 6, 0x00);
  SETFONT(0x2D, 7, 0x00);
  SETFONT(0x2E, 0, 0x00);
  SETFONT(0x2E, 1, 0x00);
  SETFONT(0x2E, 2, 0x00);
  SETFONT(0x2E, 3, 0x00);
  SETFONT(0x2E, 4, 0x00);
  SETFONT(0x2E, 5, 0x18);
  SETFONT(0x2E, 6, 0x18);
  SETFONT(0x2E, 7, 0x00);
  SETFONT(0x2F, 0, 0x00);
  SETFONT(0x2F, 1, 0x06);
  SETFONT(0x2F, 2, 0x0C);
  SETFONT(0x2F, 3, 0x18);
  SETFONT(0x2F, 4, 0x30);
  SETFONT(0x2F, 5, 0x60);
  SETFONT(0x2F, 6, 0x00);
  SETFONT(0x2F, 7, 0x00);
  SETFONT(0x30, 0, 0x3C);
  SETFONT(0x30, 1, 0x66);
  SETFONT(0x30, 2, 0x6E);
  SETFONT(0x30, 3, 0x7E);
  SETFONT(0x30, 4, 0x76);
  SETFONT(0x30, 5, 0x66);
  SETFONT(0x30, 6, 0x3C);
  SETFONT(0x30, 7, 0x00);
  SETFONT(0x31, 0, 0x18);
  SETFONT(0x31, 1, 0x38);
  SETFONT(0x31, 2, 0x18);
  SETFONT(0x31, 3, 0x18);
  SETFONT(0x31, 4, 0x18);
  SETFONT(0x31, 5, 0x18);
  SETFONT(0x31, 6, 0x7E);
  SETFONT(0x31, 7, 0x00);
  SETFONT(0x32, 0, 0x3C);
  SETFONT(0x32, 1, 0x66);
  SETFONT(0x32, 2, 0x06);
  SETFONT(0x32, 3, 0x0C);
  SETFONT(0x32, 4, 0x18);
  SETFONT(0x32, 5, 0x30);
  SETFONT(0x32, 6, 0x7E);
  SETFONT(0x32, 7, 0x00);
  SETFONT(0x33, 0, 0x3C);
  SETFONT(0x33, 1, 0x66);
  SETFONT(0x33, 2, 0x06);
  SETFONT(0x33, 3, 0x1C);
  SETFONT(0x33, 4, 0x06);
  SETFONT(0x33, 5, 0x66);
  SETFONT(0x33, 6, 0x3C);
  SETFONT(0x33, 7, 0x00);
  SETFONT(0x34, 0, 0x0C);
  SETFONT(0x34, 1, 0x1C);
  SETFONT(0x34, 2, 0x3C);
  SETFONT(0x34, 3, 0x6C);
  SETFONT(0x34, 4, 0x7E);
  SETFONT(0x34, 5, 0x0C);
  SETFONT(0x34, 6, 0x0C);
  SETFONT(0x34, 7, 0x00);
  SETFONT(0x35, 0, 0x7E);
  SETFONT(0x35, 1, 0x60);
  SETFONT(0x35, 2, 0x7C);
  SETFONT(0x35, 3, 0x06);
  SETFONT(0x35, 4, 0x06);
  SETFONT(0x35, 5, 0x66);
  SETFONT(0x35, 6, 0x3C);
  SETFONT(0x35, 7, 0x00);
  SETFONT(0x36, 0, 0x1C);
  SETFONT(0x36, 1, 0x30);
  SETFONT(0x36, 2, 0x60);
  SETFONT(0x36, 3, 0x7C);
  SETFONT(0x36, 4, 0x66);
  SETFONT(0x36, 5, 0x66);
  SETFONT(0x36, 6, 0x3C);
  SETFONT(0x36, 7, 0x00);
  SETFONT(0x37, 0, 0x7E);
  SETFONT(0x37, 1, 0x06);
  SETFONT(0x37, 2, 0x0C);
  SETFONT(0x37, 3, 0x18);
  SETFONT(0x37, 4, 0x30);
  SETFONT(0x37, 5, 0x30);
  SETFONT(0x37, 6, 0x30);
  SETFONT(0x37, 7, 0x00);
  SETFONT(0x38, 0, 0x3C);
  SETFONT(0x38, 1, 0x66);
  SETFONT(0x38, 2, 0x66);
  SETFONT(0x38, 3, 0x3C);
  SETFONT(0x38, 4, 0x66);
  SETFONT(0x38, 5, 0x66);
  SETFONT(0x38, 6, 0x3C);
  SETFONT(0x38, 7, 0x00);
  SETFONT(0x39, 0, 0x3C);
  SETFONT(0x39, 1, 0x66);
  SETFONT(0x39, 2, 0x66);
  SETFONT(0x39, 3, 0x3E);
  SETFONT(0x39, 4, 0x06);
  SETFONT(0x39, 5, 0x0C);
  SETFONT(0x39, 6, 0x38);
  SETFONT(0x39, 7, 0x00);
  SETFONT(0x3A, 0, 0x00);
  SETFONT(0x3A, 1, 0x00);
  SETFONT(0x3A, 2, 0x18);
  SETFONT(0x3A, 3, 0x18);
  SETFONT(0x3A, 4, 0x00);
  SETFONT(0x3A, 5, 0x18);
  SETFONT(0x3A, 6, 0x18);
  SETFONT(0x3A, 7, 0x00);
  SETFONT(0x3B, 0, 0x00);
  SETFONT(0x3B, 1, 0x00);
  SETFONT(0x3B, 2, 0x18);
  SETFONT(0x3B, 3, 0x18);
  SETFONT(0x3B, 4, 0x00);
  SETFONT(0x3B, 5, 0x18);
  SETFONT(0x3B, 6, 0x18);
  SETFONT(0x3B, 7, 0x30);
  SETFONT(0x3C, 0, 0x0C);
  SETFONT(0x3C, 1, 0x18);
  SETFONT(0x3C, 2, 0x30);
  SETFONT(0x3C, 3, 0x60);
  SETFONT(0x3C, 4, 0x30);
  SETFONT(0x3C, 5, 0x18);
  SETFONT(0x3C, 6, 0x0C);
  SETFONT(0x3C, 7, 0x00);
  SETFONT(0x3D, 0, 0x00);
  SETFONT(0x3D, 1, 0x00);
  SETFONT(0x3D, 2, 0x7E);
  SETFONT(0x3D, 3, 0x00);
  SETFONT(0x3D, 4, 0x7E);
  SETFONT(0x3D, 5, 0x00);
  SETFONT(0x3D, 6, 0x00);
  SETFONT(0x3D, 7, 0x00);
  SETFONT(0x3E, 0, 0x30);
  SETFONT(0x3E, 1, 0x18);
  SETFONT(0x3E, 2, 0x0C);
  SETFONT(0x3E, 3, 0x06);
  SETFONT(0x3E, 4, 0x0C);
  SETFONT(0x3E, 5, 0x18);
  SETFONT(0x3E, 6, 0x30);
  SETFONT(0x3E, 7, 0x00);
  SETFONT(0x3F, 0, 0x3C);
  SETFONT(0x3F, 1, 0x66);
  SETFONT(0x3F, 2, 0x0C);
  SETFONT(0x3F, 3, 0x18);
  SETFONT(0x3F, 4, 0x18);
  SETFONT(0x3F, 5, 0x00);
  SETFONT(0x3F, 6, 0x18);
  SETFONT(0x3F, 7, 0x00);
  SETFONT(0x40, 0, 0x3C);
  SETFONT(0x40, 1, 0x66);
  SETFONT(0x40, 2, 0x6E);
  SETFONT(0x40, 3, 0x6A);
  SETFONT(0x40, 4, 0x6E);
  SETFONT(0x40, 5, 0x60);
  SETFONT(0x40, 6, 0x3C);
  SETFONT(0x40, 7, 0x00);
  SETFONT(0x41, 0, 0x3C);
  SETFONT(0x41, 1, 0x66);
  SETFONT(0x41, 2, 0x66);
  SETFONT(0x41, 3, 0x7E);
  SETFONT(0x41, 4, 0x66);
  SETFONT(0x41, 5, 0x66);
  SETFONT(0x41, 6, 0x66);
  SETFONT(0x41, 7, 0x00);
  SETFONT(0x42, 0, 0x7C);
  SETFONT(0x42, 1, 0x66);
  SETFONT(0x42, 2, 0x66);
  SETFONT(0x42, 3, 0x7C);
  SETFONT(0x42, 4, 0x66);
  SETFONT(0x42, 5, 0x66);
  SETFONT(0x42, 6, 0x7C);
  SETFONT(0x42, 7, 0x00);
  SETFONT(0x43, 0, 0x3C);
  SETFONT(0x43, 1, 0x66);
  SETFONT(0x43, 2, 0x60);
  SETFONT(0x43, 3, 0x60);
  SETFONT(0x43, 4, 0x60);
  SETFONT(0x43, 5, 0x66);
  SETFONT(0x43, 6, 0x3C);
  SETFONT(0x43, 7, 0x00);
  SETFONT(0x44, 0, 0x78);
  SETFONT(0x44, 1, 0x6C);
  SETFONT(0x44, 2, 0x66);
  SETFONT(0x44, 3, 0x66);
  SETFONT(0x44, 4, 0x66);
  SETFONT(0x44, 5, 0x6C);
  SETFONT(0x44, 6, 0x78);
  SETFONT(0x44, 7, 0x00);
  SETFONT(0x45, 0, 0x7E);
  SETFONT(0x45, 1, 0x60);
  SETFONT(0x45, 2, 0x60);
  SETFONT(0x45, 3, 0x7C);
  SETFONT(0x45, 4, 0x60);
  SETFONT(0x45, 5, 0x60);
  SETFONT(0x45, 6, 0x7E);
  SETFONT(0x45, 7, 0x00);
  SETFONT(0x46, 0, 0x7E);
  SETFONT(0x46, 1, 0x60);
  SETFONT(0x46, 2, 0x60);
  SETFONT(0x46, 3, 0x7C);
  SETFONT(0x46, 4, 0x60);
  SETFONT(0x46, 5, 0x60);
  SETFONT(0x46, 6, 0x60);
  SETFONT(0x46, 7, 0x00);
  SETFONT(0x47, 0, 0x3C);
  SETFONT(0x47, 1, 0x66);
  SETFONT(0x47, 2, 0x60);
  SETFONT(0x47, 3, 0x6E);
  SETFONT(0x47, 4, 0x66);
  SETFONT(0x47, 5, 0x66);
  SETFONT(0x47, 6, 0x3C);
  SETFONT(0x47, 7, 0x00);
  SETFONT(0x48, 0, 0x66);
  SETFONT(0x48, 1, 0x66);
  SETFONT(0x48, 2, 0x66);
  SETFONT(0x48, 3, 0x7E);
  SETFONT(0x48, 4, 0x66);
  SETFONT(0x48, 5, 0x66);
  SETFONT(0x48, 6, 0x66);
  SETFONT(0x48, 7, 0x00);
  SETFONT(0x49, 0, 0x7E);
  SETFONT(0x49, 1, 0x18);
  SETFONT(0x49, 2, 0x18);
  SETFONT(0x49, 3, 0x18);
  SETFONT(0x49, 4, 0x18);
  SETFONT(0x49, 5, 0x18);
  SETFONT(0x49, 6, 0x7E);
  SETFONT(0x49, 7, 0x00);
  SETFONT(0x4A, 0, 0x3E);
  SETFONT(0x4A, 1, 0x0C);
  SETFONT(0x4A, 2, 0x0C);
  SETFONT(0x4A, 3, 0x0C);
  SETFONT(0x4A, 4, 0x0C);
  SETFONT(0x4A, 5, 0x6C);
  SETFONT(0x4A, 6, 0x38);
  SETFONT(0x4A, 7, 0x00);
  SETFONT(0x4B, 0, 0x66);
  SETFONT(0x4B, 1, 0x6C);
  SETFONT(0x4B, 2, 0x78);
  SETFONT(0x4B, 3, 0x70);
  SETFONT(0x4B, 4, 0x78);
  SETFONT(0x4B, 5, 0x6C);
  SETFONT(0x4B, 6, 0x66);
  SETFONT(0x4B, 7, 0x00);
  SETFONT(0x4C, 0, 0x60);
  SETFONT(0x4C, 1, 0x60);
  SETFONT(0x4C, 2, 0x60);
  SETFONT(0x4C, 3, 0x60);
  SETFONT(0x4C, 4, 0x60);
  SETFONT(0x4C, 5, 0x60);
  SETFONT(0x4C, 6, 0x7E);
  SETFONT(0x4C, 7, 0x00);
  SETFONT(0x4D, 0, 0x63);
  SETFONT(0x4D, 1, 0x77);
  SETFONT(0x4D, 2, 0x7F);
  SETFONT(0x4D, 3, 0x6B);
  SETFONT(0x4D, 4, 0x6B);
  SETFONT(0x4D, 5, 0x63);
  SETFONT(0x4D, 6, 0x63);
  SETFONT(0x4D, 7, 0x00);
  SETFONT(0x4E, 0, 0x66);
  SETFONT(0x4E, 1, 0x66);
  SETFONT(0x4E, 2, 0x76);
  SETFONT(0x4E, 3, 0x7E);
  SETFONT(0x4E, 4, 0x6E);
  SETFONT(0x4E, 5, 0x66);
  SETFONT(0x4E, 6, 0x66);
  SETFONT(0x4E, 7, 0x00);
  SETFONT(0x4F, 0, 0x3C);
  SETFONT(0x4F, 1, 0x66);
  SETFONT(0x4F, 2, 0x66);
  SETFONT(0x4F, 3, 0x66);
  SETFONT(0x4F, 4, 0x66);
  SETFONT(0x4F, 5, 0x66);
  SETFONT(0x4F, 6, 0x3C);
  SETFONT(0x4F, 7, 0x00);
  SETFONT(0x50, 0, 0x7C);
  SETFONT(0x50, 1, 0x66);
  SETFONT(0x50, 2, 0x66);
  SETFONT(0x50, 3, 0x7C);
  SETFONT(0x50, 4, 0x60);
  SETFONT(0x50, 5, 0x60);
  SETFONT(0x50, 6, 0x60);
  SETFONT(0x50, 7, 0x00);
  SETFONT(0x51, 0, 0x3C);
  SETFONT(0x51, 1, 0x66);
  SETFONT(0x51, 2, 0x66);
  SETFONT(0x51, 3, 0x66);
  SETFONT(0x51, 4, 0x6A);
  SETFONT(0x51, 5, 0x6C);
  SETFONT(0x51, 6, 0x36);
  SETFONT(0x51, 7, 0x00);
  SETFONT(0x52, 0, 0x7C);
  SETFONT(0x52, 1, 0x66);
  SETFONT(0x52, 2, 0x66);
  SETFONT(0x52, 3, 0x7C);
  SETFONT(0x52, 4, 0x6C);
  SETFONT(0x52, 5, 0x66);
  SETFONT(0x52, 6, 0x66);
  SETFONT(0x52, 7, 0x00);
  SETFONT(0x53, 0, 0x3C);
  SETFONT(0x53, 1, 0x66);
  SETFONT(0x53, 2, 0x60);
  SETFONT(0x53, 3, 0x3C);
  SETFONT(0x53, 4, 0x06);
  SETFONT(0x53, 5, 0x66);
  SETFONT(0x53, 6, 0x3C);
  SETFONT(0x53, 7, 0x00);
  SETFONT(0x54, 0, 0x7E);
  SETFONT(0x54, 1, 0x18);
  SETFONT(0x54, 2, 0x18);
  SETFONT(0x54, 3, 0x18);
  SETFONT(0x54, 4, 0x18);
  SETFONT(0x54, 5, 0x18);
  SETFONT(0x54, 6, 0x18);
  SETFONT(0x54, 7, 0x00);
  SETFONT(0x55, 0, 0x66);
  SETFONT(0x55, 1, 0x66);
  SETFONT(0x55, 2, 0x66);
  SETFONT(0x55, 3, 0x66);
  SETFONT(0x55, 4, 0x66);
  SETFONT(0x55, 5, 0x66);
  SETFONT(0x55, 6, 0x3C);
  SETFONT(0x55, 7, 0x00);
  SETFONT(0x56, 0, 0x66);
  SETFONT(0x56, 1, 0x66);
  SETFONT(0x56, 2, 0x66);
  SETFONT(0x56, 3, 0x66);
  SETFONT(0x56, 4, 0x66);
  SETFONT(0x56, 5, 0x3C);
  SETFONT(0x56, 6, 0x18);
  SETFONT(0x56, 7, 0x00);
  SETFONT(0x57, 0, 0x63);
  SETFONT(0x57, 1, 0x63);
  SETFONT(0x57, 2, 0x6B);
  SETFONT(0x57, 3, 0x6B);
  SETFONT(0x57, 4, 0x7F);
  SETFONT(0x57, 5, 0x77);
  SETFONT(0x57, 6, 0x63);
  SETFONT(0x57, 7, 0x00);
  SETFONT(0x58, 0, 0x66);
  SETFONT(0x58, 1, 0x66);
  SETFONT(0x58, 2, 0x3C);
  SETFONT(0x58, 3, 0x18);
  SETFONT(0x58, 4, 0x3C);
  SETFONT(0x58, 5, 0x66);
  SETFONT(0x58, 6, 0x66);
  SETFONT(0x58, 7, 0x00);
  SETFONT(0x59, 0, 0x66);
  SETFONT(0x59, 1, 0x66);
  SETFONT(0x59, 2, 0x66);
  SETFONT(0x59, 3, 0x3C);
  SETFONT(0x59, 4, 0x18);
  SETFONT(0x59, 5, 0x18);
  SETFONT(0x59, 6, 0x18);
  SETFONT(0x59, 7, 0x00);
  SETFONT(0x5A, 0, 0x7E);
  SETFONT(0x5A, 1, 0x06);
  SETFONT(0x5A, 2, 0x0C);
  SETFONT(0x5A, 3, 0x18);
  SETFONT(0x5A, 4, 0x30);
  SETFONT(0x5A, 5, 0x60);
  SETFONT(0x5A, 6, 0x7E);
  SETFONT(0x5A, 7, 0x00);
  SETFONT(0x5B, 0, 0x7C);
  SETFONT(0x5B, 1, 0x60);
  SETFONT(0x5B, 2, 0x60);
  SETFONT(0x5B, 3, 0x60);
  SETFONT(0x5B, 4, 0x60);
  SETFONT(0x5B, 5, 0x60);
  SETFONT(0x5B, 6, 0x7C);
  SETFONT(0x5B, 7, 0x00);
  SETFONT(0x5C, 0, 0x00);
  SETFONT(0x5C, 1, 0x60);
  SETFONT(0x5C, 2, 0x30);
  SETFONT(0x5C, 3, 0x18);
  SETFONT(0x5C, 4, 0x0C);
  SETFONT(0x5C, 5, 0x06);
  SETFONT(0x5C, 6, 0x00);
  SETFONT(0x5C, 7, 0x00);
  SETFONT(0x5D, 0, 0x3E);
  SETFONT(0x5D, 1, 0x06);
  SETFONT(0x5D, 2, 0x06);
  SETFONT(0x5D, 3, 0x06);
  SETFONT(0x5D, 4, 0x06);
  SETFONT(0x5D, 5, 0x06);
  SETFONT(0x5D, 6, 0x3E);
  SETFONT(0x5D, 7, 0x00);
  SETFONT(0x5E, 0, 0x18);
  SETFONT(0x5E, 1, 0x3C);
  SETFONT(0x5E, 2, 0x66);
  SETFONT(0x5E, 3, 0x42);
  SETFONT(0x5E, 4, 0x00);
  SETFONT(0x5E, 5, 0x00);
  SETFONT(0x5E, 6, 0x00);
  SETFONT(0x5E, 7, 0x00);
  SETFONT(0x5F, 0, 0x00);
  SETFONT(0x5F, 1, 0x00);
  SETFONT(0x5F, 2, 0x00);
  SETFONT(0x5F, 3, 0x00);
  SETFONT(0x5F, 4, 0x00);
  SETFONT(0x5F, 5, 0x00);
  SETFONT(0x5F, 6, 0x00);
  SETFONT(0x5F, 7, 0xFF);
  SETFONT(0x60, 0, 0x1C);
  SETFONT(0x60, 1, 0x36);
  SETFONT(0x60, 2, 0x30);
  SETFONT(0x60, 3, 0x7C);
  SETFONT(0x60, 4, 0x30);
  SETFONT(0x60, 5, 0x30);
  SETFONT(0x60, 6, 0x7E);
  SETFONT(0x60, 7, 0x00);
  SETFONT(0x61, 0, 0x00);
  SETFONT(0x61, 1, 0x00);
  SETFONT(0x61, 2, 0x3C);
  SETFONT(0x61, 3, 0x06);
  SETFONT(0x61, 4, 0x3E);
  SETFONT(0x61, 5, 0x66);
  SETFONT(0x61, 6, 0x3E);
  SETFONT(0x61, 7, 0x00);
  SETFONT(0x62, 0, 0x60);
  SETFONT(0x62, 1, 0x60);
  SETFONT(0x62, 2, 0x7C);
  SETFONT(0x62, 3, 0x66);
  SETFONT(0x62, 4, 0x66);
  SETFONT(0x62, 5, 0x66);
  SETFONT(0x62, 6, 0x7C);
  SETFONT(0x62, 7, 0x00);
  SETFONT(0x63, 0, 0x00);
  SETFONT(0x63, 1, 0x00);
  SETFONT(0x63, 2, 0x3C);
  SETFONT(0x63, 3, 0x66);
  SETFONT(0x63, 4, 0x60);
  SETFONT(0x63, 5, 0x66);
  SETFONT(0x63, 6, 0x3C);
  SETFONT(0x63, 7, 0x00);
  SETFONT(0x64, 0, 0x06);
  SETFONT(0x64, 1, 0x06);
  SETFONT(0x64, 2, 0x3E);
  SETFONT(0x64, 3, 0x66);
  SETFONT(0x64, 4, 0x66);
  SETFONT(0x64, 5, 0x66);
  SETFONT(0x64, 6, 0x3E);
  SETFONT(0x64, 7, 0x00);
  SETFONT(0x65, 0, 0x00);
  SETFONT(0x65, 1, 0x00);
  SETFONT(0x65, 2, 0x3C);
  SETFONT(0x65, 3, 0x66);
  SETFONT(0x65, 4, 0x7E);
  SETFONT(0x65, 5, 0x60);
  SETFONT(0x65, 6, 0x3C);
  SETFONT(0x65, 7, 0x00);
  SETFONT(0x66, 0, 0x1C);
  SETFONT(0x66, 1, 0x30);
  SETFONT(0x66, 2, 0x30);
  SETFONT(0x66, 3, 0x7C);
  SETFONT(0x66, 4, 0x30);
  SETFONT(0x66, 5, 0x30);
  SETFONT(0x66, 6, 0x30);
  SETFONT(0x66, 7, 0x00);
  SETFONT(0x67, 0, 0x00);
  SETFONT(0x67, 1, 0x00);
  SETFONT(0x67, 2, 0x3E);
  SETFONT(0x67, 3, 0x66);
  SETFONT(0x67, 4, 0x66);
  SETFONT(0x67, 5, 0x3E);
  SETFONT(0x67, 6, 0x06);
  SETFONT(0x67, 7, 0x3C);
  SETFONT(0x68, 0, 0x60);
  SETFONT(0x68, 1, 0x60);
  SETFONT(0x68, 2, 0x7C);
  SETFONT(0x68, 3, 0x66);
  SETFONT(0x68, 4, 0x66);
  SETFONT(0x68, 5, 0x66);
  SETFONT(0x68, 6, 0x66);
  SETFONT(0x68, 7, 0x00);
  SETFONT(0x69, 0, 0x18);
  SETFONT(0x69, 1, 0x00);
  SETFONT(0x69, 2, 0x38);
  SETFONT(0x69, 3, 0x18);
  SETFONT(0x69, 4, 0x18);
  SETFONT(0x69, 5, 0x18);
  SETFONT(0x69, 6, 0x3C);
  SETFONT(0x69, 7, 0x00);
  SETFONT(0x6A, 0, 0x18);
  SETFONT(0x6A, 1, 0x00);
  SETFONT(0x6A, 2, 0x38);
  SETFONT(0x6A, 3, 0x18);
  SETFONT(0x6A, 4, 0x18);
  SETFONT(0x6A, 5, 0x18);
  SETFONT(0x6A, 6, 0x18);
  SETFONT(0x6A, 7, 0x70);
  SETFONT(0x6B, 0, 0x60);
  SETFONT(0x6B, 1, 0x60);
  SETFONT(0x6B, 2, 0x66);
  SETFONT(0x6B, 3, 0x6C);
  SETFONT(0x6B, 4, 0x78);
  SETFONT(0x6B, 5, 0x6C);
  SETFONT(0x6B, 6, 0x66);
  SETFONT(0x6B, 7, 0x00);
  SETFONT(0x6C, 0, 0x38);
  SETFONT(0x6C, 1, 0x18);
  SETFONT(0x6C, 2, 0x18);
  SETFONT(0x6C, 3, 0x18);
  SETFONT(0x6C, 4, 0x18);
  SETFONT(0x6C, 5, 0x18);
  SETFONT(0x6C, 6, 0x3C);
  SETFONT(0x6C, 7, 0x00);
  SETFONT(0x6D, 0, 0x00);
  SETFONT(0x6D, 1, 0x00);
  SETFONT(0x6D, 2, 0x36);
  SETFONT(0x6D, 3, 0x7F);
  SETFONT(0x6D, 4, 0x6B);
  SETFONT(0x6D, 5, 0x6B);
  SETFONT(0x6D, 6, 0x63);
  SETFONT(0x6D, 7, 0x00);
  SETFONT(0x6E, 0, 0x00);
  SETFONT(0x6E, 1, 0x00);
  SETFONT(0x6E, 2, 0x7C);
  SETFONT(0x6E, 3, 0x66);
  SETFONT(0x6E, 4, 0x66);
  SETFONT(0x6E, 5, 0x66);
  SETFONT(0x6E, 6, 0x66);
  SETFONT(0x6E, 7, 0x00);
  SETFONT(0x6F, 0, 0x00);
  SETFONT(0x6F, 1, 0x00);
  SETFONT(0x6F, 2, 0x3C);
  SETFONT(0x6F, 3, 0x66);
  SETFONT(0x6F, 4, 0x66);
  SETFONT(0x6F, 5, 0x66);
  SETFONT(0x6F, 6, 0x3C);
  SETFONT(0x6F, 7, 0x00);
  SETFONT(0x70, 0, 0x00);
  SETFONT(0x70, 1, 0x00);
  SETFONT(0x70, 2, 0x7C);
  SETFONT(0x70, 3, 0x66);
  SETFONT(0x70, 4, 0x66);
  SETFONT(0x70, 5, 0x7C);
  SETFONT(0x70, 6, 0x60);
  SETFONT(0x70, 7, 0x60);
  SETFONT(0x71, 0, 0x00);
  SETFONT(0x71, 1, 0x00);
  SETFONT(0x71, 2, 0x3E);
  SETFONT(0x71, 3, 0x66);
  SETFONT(0x71, 4, 0x66);
  SETFONT(0x71, 5, 0x3E);
  SETFONT(0x71, 6, 0x06);
  SETFONT(0x71, 7, 0x07);
  SETFONT(0x72, 0, 0x00);
  SETFONT(0x72, 1, 0x00);
  SETFONT(0x72, 2, 0x6C);
  SETFONT(0x72, 3, 0x76);
  SETFONT(0x72, 4, 0x60);
  SETFONT(0x72, 5, 0x60);
  SETFONT(0x72, 6, 0x60);
  SETFONT(0x72, 7, 0x00);
  SETFONT(0x73, 0, 0x00);
  SETFONT(0x73, 1, 0x00);
  SETFONT(0x73, 2, 0x3E);
  SETFONT(0x73, 3, 0x60);
  SETFONT(0x73, 4, 0x3C);
  SETFONT(0x73, 5, 0x06);
  SETFONT(0x73, 6, 0x7C);
  SETFONT(0x73, 7, 0x00);
  SETFONT(0x74, 0, 0x30);
  SETFONT(0x74, 1, 0x30);
  SETFONT(0x74, 2, 0x7C);
  SETFONT(0x74, 3, 0x30);
  SETFONT(0x74, 4, 0x30);
  SETFONT(0x74, 5, 0x30);
  SETFONT(0x74, 6, 0x1C);
  SETFONT(0x74, 7, 0x00);
  SETFONT(0x75, 0, 0x00);
  SETFONT(0x75, 1, 0x00);
  SETFONT(0x75, 2, 0x66);
  SETFONT(0x75, 3, 0x66);
  SETFONT(0x75, 4, 0x66);
  SETFONT(0x75, 5, 0x66);
  SETFONT(0x75, 6, 0x3E);
  SETFONT(0x75, 7, 0x00);
  SETFONT(0x76, 0, 0x00);
  SETFONT(0x76, 1, 0x00);
  SETFONT(0x76, 2, 0x66);
  SETFONT(0x76, 3, 0x66);
  SETFONT(0x76, 4, 0x66);
  SETFONT(0x76, 5, 0x3C);
  SETFONT(0x76, 6, 0x18);
  SETFONT(0x76, 7, 0x00);
  SETFONT(0x77, 0, 0x00);
  SETFONT(0x77, 1, 0x00);
  SETFONT(0x77, 2, 0x63);
  SETFONT(0x77, 3, 0x6B);
  SETFONT(0x77, 4, 0x6B);
  SETFONT(0x77, 5, 0x7F);
  SETFONT(0x77, 6, 0x36);
  SETFONT(0x77, 7, 0x00);
  SETFONT(0x78, 0, 0x00);
  SETFONT(0x78, 1, 0x00);
  SETFONT(0x78, 2, 0x66);
  SETFONT(0x78, 3, 0x3C);
  SETFONT(0x78, 4, 0x18);
  SETFONT(0x78, 5, 0x3C);
  SETFONT(0x78, 6, 0x66);
  SETFONT(0x78, 7, 0x00);
  SETFONT(0x79, 0, 0x00);
  SETFONT(0x79, 1, 0x00);
  SETFONT(0x79, 2, 0x66);
  SETFONT(0x79, 3, 0x66);
  SETFONT(0x79, 4, 0x66);
  SETFONT(0x79, 5, 0x3E);
  SETFONT(0x79, 6, 0x06);
  SETFONT(0x79, 7, 0x3C);
  SETFONT(0x7A, 0, 0x00);
  SETFONT(0x7A, 1, 0x00);
  SETFONT(0x7A, 2, 0x7E);
  SETFONT(0x7A, 3, 0x0C);
  SETFONT(0x7A, 4, 0x18);
  SETFONT(0x7A, 5, 0x30);
  SETFONT(0x7A, 6, 0x7E);
  SETFONT(0x7A, 7, 0x00);
  SETFONT(0x7B, 0, 0x0C);
  SETFONT(0x7B, 1, 0x18);
  SETFONT(0x7B, 2, 0x18);
  SETFONT(0x7B, 3, 0x70);
  SETFONT(0x7B, 4, 0x18);
  SETFONT(0x7B, 5, 0x18);
  SETFONT(0x7B, 6, 0x0C);
  SETFONT(0x7B, 7, 0x00);
  SETFONT(0x7C, 0, 0x18);
  SETFONT(0x7C, 1, 0x18);
  SETFONT(0x7C, 2, 0x18);
  SETFONT(0x7C, 3, 0x00);
  SETFONT(0x7C, 4, 0x18);
  SETFONT(0x7C, 5, 0x18);
  SETFONT(0x7C, 6, 0x18);
  SETFONT(0x7C, 7, 0x00);
  SETFONT(0x7D, 0, 0x30);
  SETFONT(0x7D, 1, 0x18);
  SETFONT(0x7D, 2, 0x18);
  SETFONT(0x7D, 3, 0x0E);
  SETFONT(0x7D, 4, 0x18);
  SETFONT(0x7D, 5, 0x18);
  SETFONT(0x7D, 6, 0x30);
  SETFONT(0x7D, 7, 0x00);
  SETFONT(0x7E, 0, 0x31);
  SETFONT(0x7E, 1, 0x6B);
  SETFONT(0x7E, 2, 0x46);
  SETFONT(0x7E, 3, 0x00);
  SETFONT(0x7E, 4, 0x00);
  SETFONT(0x7E, 5, 0x00);
  SETFONT(0x7E, 6, 0x00);
  SETFONT(0x7E, 7, 0x00);
  SETFONT(0x7F, 0, 0xFF);
  SETFONT(0x7F, 1, 0xFF);
  SETFONT(0x7F, 2, 0xFF);
  SETFONT(0x7F, 3, 0xFF);
  SETFONT(0x7F, 4, 0xFF);
  SETFONT(0x7F, 5, 0xFF);
  SETFONT(0x7F, 6, 0xFF);
  SETFONT(0x7F, 7, 0xFF);
}
#undef SETFONT
